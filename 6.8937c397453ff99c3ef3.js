(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"Ee+o":function(e,t,n){"use strict";n.r(t),n("srU8");var a=n("KNZI"),r=(n("keW8"),n("g7mc")),i=n("HJ2O"),o=n.n(i),l=n("A4dA"),c=n.n(l),s=(n("E5HT"),n("iRCR")),u=n("gx1s"),p=n.n(u),d=n("b4l6"),g=n.n(d),h=n("0wiU"),f=n.n(h),m=n("SnMR"),b=n.n(m),v=n("GZrC"),y=n.n(v),k=n("nH91"),x=n.n(k),w=n("ut94"),E=n.n(w),R=n("ee8y"),S=n.n(R),I=n("rdAL"),C=n.n(I),z=n("zLGJ"),_=n("uuwp"),B=n("rGXH"),T=n("6MTY"),j=(n("ePMt"),n("2taP")),L=(n("yQGr"),n("81q7")),M=n("nIBk"),N=(n("MQX1"),"/keke-english"),O=[{label:"单词",name:"word",required:!1,message:"请输入单词",placeholder:""},{label:"注释",name:"definition",required:!1,message:"请输入单词",placeholder:""},{label:"词库名称",name:"collection_name",required:!1,message:"请输入单词",placeholder:""},{label:"词库关卡",name:"collection_level",required:!1,message:"请输入单词",placeholder:""}],P=[{title:"序号",dataIndex:"key"},{title:"单词",dataIndex:"word"},{title:"注释",dataIndex:"definition"},{title:"音标",dataIndex:"phonetic_symbol",render:function(e,t,n){return C.a.createElement("span",null,"".concat(e))}},{title:"发音",dataIndex:"pronunciation_url",render:function(e,t,n){return C.a.createElement("img",{style:{width:30,cursor:"pointer"},src:"/images/sound.png",title:e,onClick:function(){new Audio(e).play()}})}},{title:"词库",dataIndex:"collection_name"},{title:"关卡",dataIndex:"collection_level"},{title:"操作",key:"action",width:"120px",render:function(e,t){return C.a.createElement("span",null,t.is_checked?C.a.createElement(r.a,{className:"yellow",status:"processing",title:"已审核"}):null,C.a.createElement(M.a,{target:"_blank",to:"".concat(N,"/detail?").concat(t.id)},"详情"),C.a.createElement(L.a,{type:"vertical"}),C.a.createElement(M.a,{to:"".concat(N,"/edit?").concat(t.id)},"编辑"))}}],q="/api/english/keke",A=function(e){function t(){var e,n;g()(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=b()(this,(e=y()(t)).call.apply(e,[this].concat(r))),S()(E()(E()(n)),"state",{searchButtonLoading:!1,source:[],pagination:{},filterResult:{}}),S()(E()(E()(n)),"onPaginationSizeChange",function(e,t){var a=n.state,r=a.pagination;a.filterResult,r.pageSize=t,n.state.pagination=r,n.props.setValue({pagination:r}),n.updateTable()}),S()(E()(E()(n)),"onPaginationChange",function(e,t){var a=n.state,r=a.pagination;a.filterResult,r=p()({},r,{current:e,pageSize:t}),n.state.pagination=r,n.props.setValue({pagination:r}),n.updateTable()}),S()(E()(E()(n)),"filterResult",function(e){var t=n.state,a=t.pagination,r=t.filterResult;a.current=1,r=e,Object.keys(r).forEach(function(e){r[e]||(r[e]="")}),n.state.filterResult=r,n.props.setValue({pagination:a,filterResult:r}),n.state.pagination=a,n.updateTable()}),S()(E()(E()(n)),"updateTable",function(){var e=n.state,t=e.pagination,a=e.filterResult;if(n.Interceptor()){n.setState({searchButtonLoading:!0});var r=p()({pageNo:t.current,pageSize:t.pageSize},a);Object(j.b)(q,r).then(function(e){t.total=e.count;var a=(e.data||[]).map(function(e,n){return p()({key:(t.current-1)*t.pageSize+n+1},e)});n.setState({searchButtonLoading:!1,source:a,pagination:t}),s.a.success("查询成功")}).catch(function(e){n.setState({searchButtonLoading:!1}),s.a.warn(e.errMsg)})}}),S()(E()(E()(n)),"Interceptor",function(){return!0}),S()(E()(E()(n)),"createItem",function(){n.props.history.push("/keke-english/create")}),S()(E()(E()(n)),"removeBatchWords",c()(o.a.mark(function e(){var t,a,r,i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.source.length,log(n.state.source),s.a.success("暂不开放",3),e.abrupt("return");case 5:if(a<t)return r=n.state.source[a],i=r.id,r=Object.assign({},r,{collection_name:collection_name,collection_level:collection_level}),e.next=11,Object(j.a)("".concat(q,"/").concat(i));e.next=15;break;case 11:e.sent;case 12:a++,e.next=5;break;case 15:case"end":return e.stop()}},e,this)}))),n}return x()(t,e),f()(t,[{key:"componentDidMount",value:function(){var e={current:this.props.redux.pagination.current,pageSize:this.props.redux.pagination.pageSize,showSizeChanger:!0,onShowSizeChange:this.onPaginationSizeChange,onChange:this.onPaginationChange,showTotal:function(e,t){return C.a.createElement("div",{className:"total"},"".concat(t[0],"-").concat(t[1]," of ").concat(e," items")," ",C.a.createElement("span",{className:"blank"}),C.a.createElement(r.a,{className:"yellow",status:"processing",text:"代表已审核"}))}},t=this.props.redux.filterResult;this.state.pagination=e,this.state.filterResult=t,this.updateTable()}},{key:"render",value:function(){var e=this,t=this.state,n=t.searchButtonLoading,r=t.source,i=t.pagination,o=t.filterResult,l={filters:O,searchButtonLoading:n,values:o},c={columns:P,source:r,pagination:i},s=C.a.createElement("div",{style:{marginBottom:10}},"进入演示版：",C.a.createElement(a.a,{onClick:function(){e.props.history.push("/keke-english/demo")}},"点击"),C.a.createElement("div",null,"总共：",this.state.pagination.total,C.a.createElement(a.a,{onClick:this.removeBatchWords,type:"primary",style:{marginLeft:100}},"批量删除")));return C.a.createElement("div",{className:"regular-container"},C.a.createElement(B.a,{array:l,filterResult:this.filterResult,createItem:this.createItem}),s,C.a.createElement(T.a,{data:c}))}}]),t}(I.Component);t.default=Object(_.b)(function(e){return{redux:e.simpleWord}},function(e){return{setValue:function(t){e(Object(z.a)(t))}}})(A)},EjMT:function(e,t,n){(e.exports=n("aQ7W")(!1)).push([e.i,".table-collumn {\n  width: 60px;\n}\n.stringtomore-collumn {\n  cursor: pointer;\n}\n.image-hover {\n  width: 100px;\n  height: auto;\n  border-radius: 10px;\n}\n.regular-container .yellow .ant-badge-status-processing {\n  background-color: #52c41a;\n}\n.regular-container .ant-badge-status-processing::after {\n  border: 1px solid #52c41a;\n}\n.regular-container .ant-table-pagination {\n  width: 100%;\n  display: flex;\n  justify-content: flex-end;\n  align-items: flex-start;\n}\n.regular-container .ant-pagination-total-text {\n  float: left;\n}\n.regular-container .delete-tag {\n  color: #1f8ffb;\n  cursor: pointer;\n  display: inline;\n}\n.regular-container .delete-tag[disabled] {\n  color: gray;\n}\n.regular-container .total {\n  display: inline;\n}\n.regular-container .total .blank {\n  margin-right: 20px;\n}\n",""])},ePMt:function(e,t,n){var a=n("EjMT");"string"==typeof a&&(a=[[e.i,a,""]]);n("7B2p")(a,{hmr:!0,transform:void 0,insertInto:void 0}),a.locals&&(e.exports=a.locals)}}]);
//# sourceMappingURL=6.8937c397453ff99c3ef3.js.map