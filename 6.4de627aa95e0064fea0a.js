(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"Ee+o":function(e,t,n){"use strict";n.r(t),n("srU8");var a=n("KNZI"),i=(n("keW8"),n("g7mc")),r=(n("E5HT"),n("iRCR")),o=n("gx1s"),l=n.n(o),s=n("b4l6"),c=n.n(s),u=n("0wiU"),p=n.n(u),d=n("SnMR"),g=n.n(d),h=n("GZrC"),f=n.n(h),m=n("nH91"),b=n.n(m),x=n("ut94"),y=n.n(x),v=n("ee8y"),k=n.n(v),w=n("rdAL"),E=n.n(w),R=n("zLGJ"),S=n("uuwp"),I=n("rGXH"),z=n("6MTY"),C=(n("ePMt"),n("2taP")),T=(n("yQGr"),n("81q7")),B=n("nIBk"),M=(n("MQX1"),"/keke-english"),L=[{label:"单词",name:"word",required:!1,message:"请输入单词",placeholder:""},{label:"注释",name:"definition",required:!1,message:"请输入单词",placeholder:""},{label:"词库名称",name:"collection_name",required:!1,message:"请输入单词",placeholder:""},{label:"词库关卡",name:"collection_level",required:!1,message:"请输入单词",placeholder:""}],_=[{title:"序号",dataIndex:"id"},{title:"单词",dataIndex:"word"},{title:"注释",dataIndex:"definition"},{title:"音标",dataIndex:"phonetic_symbol",render:function(e,t,n){return E.a.createElement("span",null,"".concat(e))}},{title:"发音",dataIndex:"pronunciation_url",render:function(e,t,n){return E.a.createElement("img",{style:{width:30,cursor:"pointer"},src:"/images/sound.png",title:e,onClick:function(){new Audio(e).play()}})}},{title:"词库",dataIndex:"collection_name"},{title:"关卡",dataIndex:"collection_level"},{title:"操作",key:"action",width:"120px",render:function(e,t){return E.a.createElement("span",null,t.is_checked?E.a.createElement(i.a,{className:"yellow",status:"processing",title:"已审核"}):null,E.a.createElement(B.a,{target:"_blank",to:"".concat(M,"/detail?").concat(t.id)},"详情"),E.a.createElement(T.a,{type:"vertical"}),E.a.createElement(B.a,{to:"".concat(M,"/edit?").concat(t.id)},"编辑"))}}],j=function(e){function t(){var e,n;c()(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=g()(this,(e=f()(t)).call.apply(e,[this].concat(i))),k()(y()(y()(n)),"state",{searchButtonLoading:!1,source:[],pagination:{},filterResult:{}}),k()(y()(y()(n)),"onPaginationSizeChange",function(e,t){var a=n.state,i=a.pagination;a.filterResult,i.pageSize=t,n.state.pagination=i,n.props.setValue({pagination:i}),n.updateTable()}),k()(y()(y()(n)),"onPaginationChange",function(e,t){var a=n.state,i=a.pagination;a.filterResult,i=l()({},i,{current:e,pageSize:t}),n.state.pagination=i,n.props.setValue({pagination:i}),n.updateTable()}),k()(y()(y()(n)),"filterResult",function(e){var t=n.state,a=t.pagination,i=t.filterResult;a.current=1,i=e,Object.keys(i).forEach(function(e){i[e]||(i[e]="")}),n.state.filterResult=i,n.props.setValue({pagination:a,filterResult:i}),n.state.pagination=a,n.updateTable()}),k()(y()(y()(n)),"updateTable",function(){var e=n.state,t=e.pagination,a=e.filterResult;if(n.Interceptor()){n.setState({searchButtonLoading:!0});var i=l()({pageNo:t.current,pageSize:t.pageSize},a);Object(C.b)("/api/english/keke",i).then(function(e){t.total=e.count;var a=(e.data||[]).map(function(e,n){return l()({key:e.id,index:(t.current-1)*t.pageSize+n+1},e)});n.setState({searchButtonLoading:!1,source:a,pagination:t}),r.a.success("查询成功")}).catch(function(e){n.setState({searchButtonLoading:!1}),r.a.warn(e.errMsg)})}}),k()(y()(y()(n)),"Interceptor",function(){return!0}),k()(y()(y()(n)),"createItem",function(){n.props.history.push("/keke-english/create")}),n}return b()(t,e),p()(t,[{key:"componentDidMount",value:function(){var e={current:this.props.redux.pagination.current,pageSize:this.props.redux.pagination.pageSize,showSizeChanger:!0,onShowSizeChange:this.onPaginationSizeChange,onChange:this.onPaginationChange,showTotal:function(e,t){return E.a.createElement("div",{className:"total"},"".concat(t[0],"-").concat(t[1]," of ").concat(e," items")," ",E.a.createElement("span",{className:"blank"}),E.a.createElement(i.a,{className:"yellow",status:"processing",text:"代表已审核"}))}},t=this.props.redux.filterResult;this.state.pagination=e,this.state.filterResult=t,this.updateTable()}},{key:"render",value:function(){var e=this,t=this.state,n=t.searchButtonLoading,i=t.source,r=t.pagination,o=t.filterResult,l={filters:L,searchButtonLoading:n,values:o},s={columns:_,source:i,pagination:r},c=E.a.createElement("div",{style:{marginBottom:10}},"进入演示版：",E.a.createElement(a.a,{onClick:function(){e.props.history.push("/keke-english/demo")}},"点击"),E.a.createElement("div",null,"总共：",this.state.pagination.total));return E.a.createElement("div",{className:"regular-container"},E.a.createElement(I.a,{array:l,filterResult:this.filterResult,createItem:this.createItem}),c,E.a.createElement(z.a,{data:s}))}}]),t}(w.Component);t.default=Object(S.b)(function(e){return{redux:e.simpleWord}},function(e){return{setValue:function(t){e(Object(R.a)(t))}}})(j)},EjMT:function(e,t,n){(e.exports=n("aQ7W")(!1)).push([e.i,".table-collumn {\n  width: 60px;\n}\n.stringtomore-collumn {\n  cursor: pointer;\n}\n.image-hover {\n  width: 100px;\n  height: auto;\n  border-radius: 10px;\n}\n.regular-container .yellow .ant-badge-status-processing {\n  background-color: #52c41a;\n}\n.regular-container .ant-badge-status-processing::after {\n  border: 1px solid #52c41a;\n}\n.regular-container .ant-table-pagination {\n  width: 100%;\n  display: flex;\n  justify-content: flex-end;\n  align-items: flex-start;\n}\n.regular-container .ant-pagination-total-text {\n  float: left;\n}\n.regular-container .delete-tag {\n  color: #1f8ffb;\n  cursor: pointer;\n  display: inline;\n}\n.regular-container .delete-tag[disabled] {\n  color: gray;\n}\n.regular-container .total {\n  display: inline;\n}\n.regular-container .total .blank {\n  margin-right: 20px;\n}\n",""])},ePMt:function(e,t,n){var a=n("EjMT");"string"==typeof a&&(a=[[e.i,a,""]]);n("7B2p")(a,{hmr:!0,transform:void 0,insertInto:void 0}),a.locals&&(e.exports=a.locals)}}]);
//# sourceMappingURL=6.4de627aa95e0064fea0a.js.map